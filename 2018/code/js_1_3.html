<!DOCTYPE html>

<html>
<head>
    <title>Javascript 1</title>
    <link rel="stylesheet" href="../css/main.css">
    <script src=https://cdnjs.cloudflare.com/ajax/libs/pizzicato/0.6.1/Pizzicato.min.js></script>
    <style>
    #container {
    width: 600px;
    height: 300px;
    border: 1px solid black;}
    </style>
</head>



<!-- 

1. Create a container box (div and css for size)
2. Add the behaviour and bare functions for playback
3. Add functionality to get mouse position from within the playback zone
4. Instantiate the sineWave
5. Control the sound level and frequency with the mouse position
6. Add the ability to stop the sound if mouse is outside of the playback zone
7. Add a delay

 -->

<body id="body">
    <div id="container" onmousemove="thereminControl(event)" onmouseleave="thereminOff(event)"></div>

    <script>
    var sineWave = new Pizzicato.Sound({ 
        source: 'wave', 
        options: {frequency: 0, volume: 0}
    });
    
    var delay = new Pizzicato.Effects.Delay({
    feedback: 0.5,
    time: 0.4,
    mix: 0.5 
    });

    sineWave.play(); 
    sineWave.addEffect(delay);

    function thereminControl(e) {
        var x = e.clientX;
        var y = e.clientY;
        console.log(x, y);
        sineWave.volume = 1 - y/309;
        sineWave.frequency = x*2;
        sineWave.play();
    }

    function thereminOff(e) {
        sineWave.pause();
    }  

    </script>



</body>

</html>
















